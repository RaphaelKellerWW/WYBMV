<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Was machst du am Samstag?</title>

<style>
body {
    margin: 0;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #ffb6c1;
    background-image: url("https://www.transparenttextures.com/patterns/roses.png");
    font-family: 'Segoe UI', sans-serif;
    overflow: hidden;
}

.card {
    position: relative;
    width: 420px;
    height: 340px;
    background: white;
    border-radius: 20px;
    padding: 30px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    overflow: hidden;
    z-index: 2;
}

h1 {
    font-size: 22px;
    margin-bottom: 40px;
}

.buttons {
    position: relative;
    width: 100%;
    height: 160px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px; /* kleiner Abstand */
}


button {
    border: none;
    border-radius: 25px;
    padding: 12px 30px;
    font-size: 16px;
    cursor: pointer;
    transition: transform 0.15s ease;
    touch-action: manipulation;
}

#yesBtn {
    background-color: #ff4d6d;
    color: white;
    --yes-scale: 1;
    --shake-x: 0px;
    transform: scale(var(--yes-scale)) translateX(var(--shake-x));
}

#noBtn {
    position: absolute;
    background-color: #ccc;
}

.final-text {
    font-size: 18px;
    line-height: 1.4;
}

/* Shake */
@keyframes shake {
    0% { --shake-x: 0px; }
    25% { --shake-x: -6px; }
    50% { --shake-x: 6px; }
    75% { --shake-x: -6px; }
    100% { --shake-x: 0px; }
}
.shake { animation: shake 0.3s; }

/* Floating hearts */
.heart {
    position: fixed;
    bottom: -20px;
    font-size: 20px;
    animation: floatUp 6s linear forwards;
    opacity: 0.8;
}
@keyframes floatUp {
    0% { transform: translateY(0) scale(1); opacity: 0.8; }
    100% { transform: translateY(-120vh) scale(1.8); opacity: 0; }
}

/* Sound hint */
.sound-hint {
    position: fixed;
    bottom: 15px;
    font-size: 14px;
    background: rgba(0,0,0,0.6);
    color: white;
    padding: 6px 12px;
    border-radius: 20px;
    z-index: 3;
}
</style>
</head>
<body>

<div class="sound-hint" id="soundHint">ğŸ”Š Ton anmachen ğŸ˜‰</div>

<audio id="bgMusic" loop>
    <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_1b6f7b0b7d.mp3" type="audio/mpeg">
</audio>

<div class="card" id="card">
    <h1>Willst du mein Valentinsschatz sein? ğŸ’–</h1>
    <div class="buttons" id="buttonArea">
        <button id="yesBtn">Ja</button>
        <button id="noBtn">Nein</button>
    </div>
</div>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const buttonArea = document.getElementById("buttonArea");
const card = document.getElementById("card");
const music = document.getElementById("bgMusic");
const hint = document.getElementById("soundHint");

noBtn.style.left = "50%";
noBtn.style.top = "60px";
noBtn.style.transform = "translateX(-50%) scale(1)";

let noScale = 1;
let yesScale = 1;
let musicStarted = false;

const MIN_NO_SCALE = 0.2;
const MAX_YES_SCALE = 2.6;

music.volume = 0;

function fadeInMusic() {
    if (musicStarted) return;
    music.play().catch(()=>{});
    musicStarted = true;
    hint.remove();
    let v = 0;
    const fade = setInterval(() => {
        v += 0.02;
        music.volume = Math.min(v, 0.4);
        if (v >= 0.4) clearInterval(fade);
    }, 120);
    startHearts();
}

function startHearts() {
    setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerText = "ğŸ’–";
        heart.style.left = Math.random() * 100 + "vw";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
    }, 700);
}

function evadeNo() {
    fadeInMusic();
    const areaWidth = buttonArea.clientWidth - noBtn.offsetWidth;
    const areaHeight = buttonArea.clientHeight - noBtn.offsetHeight;

    noScale = Math.max(noScale * 0.8, MIN_NO_SCALE);
    yesScale = Math.min(yesScale * 1.18, MAX_YES_SCALE);

    noBtn.style.left = Math.random() * areaWidth + "px";
    noBtn.style.top = Math.random() * areaHeight + "px";
    noBtn.style.transform = `scale(${noScale})`;
    yesBtn.style.setProperty("--yes-scale", yesScale);

    yesBtn.classList.remove("shake");
    void yesBtn.offsetWidth;
    yesBtn.classList.add("shake");
}

noBtn.addEventListener("mouseenter", evadeNo);
noBtn.addEventListener("touchstart", e => {
    e.preventDefault();
    evadeNo();
}, { passive: false });

yesBtn.addEventListener("click", () => {
    fadeInMusic();
    music.volume = 0.65;
    card.innerHTML = `
        <div class="final-text">
            ğŸ’• 14.02.2026, 17 Uhr, Rastatt ğŸ’•<br><br>
            All You Can Eat Sushi â€“<br>
            damit ich um 17:56 Uhr fragen kann,<br>
            ob wir gleich 6 haben ğŸ£ğŸ˜
        </div>`;
});
</script>

</body>
</html>